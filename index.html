<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Percently — Quick percentage calculator</title>
  <meta name="description" content="Percently: quick, accurate percentage calculations — large, readable inputs and clear labels." />
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="favicon.ico">
  <!-- Inline tiny transparent favicon to avoid 404 when favicon.ico is missing -->
  <link rel="icon" href="data:image/x-icon;utf8,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A" />
  <style>
    /* Small helper styles for inline elements we add (kept minimal so main style.css still controls look) */
    .result-inline { cursor: pointer; user-select: text; }
    .result-copy-btn {
      display:inline-flex;
      align-items:center;
      gap:6px;
      border:0;
      background:transparent;
      color:inherit;
      font:inherit;
      cursor:pointer;
      padding:6px;
      border-radius:6px;
    }
    .result-copy-btn:focus { outline: 2px solid rgba(11,116,255,0.25); outline-offset:2px; }
    /* keep actions-below reserved space to avoid layout shift (stable area) */
    .actions-below { min-height:44px; display:flex; gap:0.5rem; align-items:center; justify-content:center; }
    .actions-below.hidden > * { display:none; }
    /* small icon sizing in history */
    .history .bar-btn svg { vertical-align:middle; margin-right:6px; }
  </style>
</head>
<body>
  <main class="wrap compact">
    <header class="site-header compact-header">
      <h1 class="title">Percently</h1>
      <p class="subtitle">Submit-based percentage calculator with history.</p>
    </header>

    <section class="compact-card" aria-label="Calculator">
      <!-- Tabs for different calculator modes -->
      <div role="tablist" aria-label="Calculator modes" class="options-row boxed">
        <button role="tab" aria-selected="true" aria-controls="panel-of" id="tab-of" class="option-card">X% of Y</button>
        <button role="tab" aria-selected="false" aria-controls="panel-inc" id="tab-inc" class="option-card">Increase by %</button>
        <button role="tab" aria-selected="false" aria-controls="panel-dec" id="tab-dec" class="option-card">Decrease by %</button>
        <button role="tab" aria-selected="false" aria-controls="panel-what" id="tab-what" class="option-card">What % is X of Y</button>
        <button role="tab" aria-selected="false" aria-controls="panel-diff" id="tab-diff" class="option-card">% change A→B</button>
      </div>

      <!-- Panel: X% of Y -->
      <div id="panel-of" role="tabpanel" aria-labelledby="tab-of" class="tab-panel">
        <form class="compact-form" novalidate>
          <div class="calc-mode">
            <h2 class="calc-mode-title">X% of Y</h2>
            <p class="calc-mode-sub">Calculate X percent of Y.</p>
          </div>
          <div class="split-rect">
            <div class="left-col">
              <div class="input-wrap">
                <label for="of-x" class="input-caption">X (percent)</label>
                <input id="of-x" name="x" type="text" inputmode="decimal" placeholder="50" class="big-input">
              </div>
              <div class="input-wrap">
                <label for="of-y" class="input-caption">Y (value)</label>
                <input id="of-y" name="y" type="text" inputmode="decimal" placeholder="200" class="big-input">
              </div>
            </div>
            <div class="right-col">
              <div class="input-caption">Result</div>
              <div class="result-container" style="display:none;">
                <div class="eq-row">
                  <div class="equals">=</div>
                  <div class="result-inline" aria-live="polite"></div>
                  <button type="button" class="result-copy-btn" title="Copy link for this calculation" aria-label="Copy link for this calculation"></button>
                </div>
                <div class="result-msg" aria-live="polite"></div>
              </div>
            </div>
          </div>
          <div class="actions-below hidden">
            <button type="submit" class="bar-btn primary">Calculate</button>
            <button type="button" class="bar-btn secondary clear-btn">Clear</button>
          </div>
        </form>
      </div>

      <!-- Panel: Increase by % -->
      <div id="panel-inc" role="tabpanel" aria-labelledby="tab-inc" class="tab-panel" style="display:none;">
        <form class="compact-form" novalidate>
          <div class="calc-mode">
            <h2 class="calc-mode-title">Increase by %</h2>
            <p class="calc-mode-sub">Increase Y by X percent.</p>
          </div>
          <div class="split-rect">
            <div class="left-col">
              <div class="input-wrap">
                <label for="inc-x" class="input-caption">X (percent increase)</label>
                <input id="inc-x" name="x" type="text" inputmode="decimal" placeholder="10" class="big-input">
              </div>
              <div class="input-wrap">
                <label for="inc-y" class="input-caption">Y (base value)</label>
                <input id="inc-y" name="y" type="text" inputmode="decimal" placeholder="200" class="big-input">
              </div>
            </div>
            <div class="right-col">
              <div class="input-caption">Result</div>
              <div class="result-container" style="display:none;">
                <div class="eq-row">
                  <div class="equals">=</div>
                  <div class="result-inline" aria-live="polite"></div>
                  <button type="button" class="result-copy-btn" title="Copy link for this calculation" aria-label="Copy link for this calculation"></button>
                </div>
                <div class="result-msg" aria-live="polite"></div>
              </div>
            </div>
          </div>
          <div class="actions-below hidden">
            <button type="submit" class="bar-btn primary">Calculate</button>
            <button type="button" class="bar-btn secondary clear-btn">Clear</button>
          </div>
        </form>
      </div>

      <!-- Panel: Decrease by % -->
      <div id="panel-dec" role="tabpanel" aria-labelledby="tab-dec" class="tab-panel" style="display:none;">
        <form class="compact-form" novalidate>
          <div class="calc-mode">
            <h2 class="calc-mode-title">Decrease by %</h2>
            <p class="calc-mode-sub">Decrease Y by X percent.</p>
          </div>
          <div class="split-rect">
            <div class="left-col">
              <div class="input-wrap">
                <label for="dec-x" class="input-caption">X (percent decrease)</label>
                <input id="dec-x" name="x" type="text" inputmode="decimal" placeholder="10" class="big-input">
              </div>
              <div class="input-wrap">
                <label for="dec-y" class="input-caption">Y (base value)</label>
                <input id="dec-y" name="y" type="text" inputmode="decimal" placeholder="200" class="big-input">
              </div>
            </div>
            <div class="right-col">
              <div class="input-caption">Result</div>
              <div class="result-container" style="display:none;">
                <div class="eq-row">
                  <div class="equals">=</div>
                  <div class="result-inline" aria-live="polite"></div>
                  <button type="button" class="result-copy-btn" title="Copy link for this calculation" aria-label="Copy link for this calculation"></button>
                </div>
                <div class="result-msg" aria-live="polite"></div>
              </div>
            </div>
          </div>
          <div class="actions-below hidden">
            <button type="submit" class="bar-btn primary">Calculate</button>
            <button type="button" class="bar-btn secondary clear-btn">Clear</button>
          </div>
        </form>
      </div>

      <!-- Panel: What % is X of Y -->
      <div id="panel-what" role="tabpanel" aria-labelledby="tab-what" class="tab-panel" style="display:none;">
        <form class="compact-form" novalidate>
          <div class="calc-mode">
            <h2 class="calc-mode-title">What % is X of Y</h2>
            <p class="calc-mode-sub">Find what percent X is of Y.</p>
          </div>
          <div class="split-rect">
            <div class="left-col">
              <div class="input-wrap">
                <label for="what-a" class="input-caption">A (part)</label>
                <input id="what-a" name="a" type="text" inputmode="decimal" placeholder="25" class="big-input">
              </div>
              <div class="input-wrap">
                <label for="what-b" class="input-caption">B (whole)</label>
                <input id="what-b" name="b" type="text" inputmode="decimal" placeholder="200" class="big-input">
              </div>
            </div>
            <div class="right-col">
              <div class="input-caption">Result</div>
              <div class="result-container" style="display:none;">
                <div class="eq-row">
                  <div class="equals">=</div>
                  <div class="result-inline" aria-live="polite"></div>
                  <button type="button" class="result-copy-btn" title="Copy link for this calculation" aria-label="Copy link for this calculation"></button>
                </div>
                <div class="result-msg" aria-live="polite"></div>
              </div>
            </div>
          </div>
          <div class="actions-below hidden">
            <button type="submit" class="bar-btn primary">Calculate</button>
            <button type="button" class="bar-btn secondary clear-btn">Clear</button>
          </div>
        </form>
      </div>

      <!-- Panel: % change A→B (NEW) -->
      <div id="panel-diff" role="tabpanel" aria-labelledby="tab-diff" class="tab-panel" style="display:none;">
        <form class="compact-form" novalidate>
          <div class="calc-mode">
            <h2 class="calc-mode-title">% change A→B</h2>
            <p class="calc-mode-sub">Calculate directional percent change from old to new.</p>
          </div>
          <div class="split-rect">
            <div class="left-col">
              <div class="input-wrap">
                <label for="diff-old" class="input-caption">Old (A)</label>
                <input id="diff-old" name="old" type="text" inputmode="decimal" placeholder="100" class="big-input">
              </div>
              <div class="input-wrap">
                <label for="diff-new" class="input-caption">New (B)</label>
                <input id="diff-new" name="new" type="text" inputmode="decimal" placeholder="120" class="big-input">
              </div>
            </div>
            <div class="right-col">
              <div class="input-caption">Result</div>
              <div class="result-container" style="display:none;">
                <div class="eq-row">
                  <div class="equals">=</div>
                  <div class="result-inline" aria-live="polite"></div>
                  <button type="button" class="result-copy-btn" title="Copy link for this calculation" aria-label="Copy link for this calculation"></button>
                </div>
                <div class="result-msg" aria-live="polite"></div>
              </div>
            </div>
          </div>
          <div class="actions-below hidden">
            <button type="submit" class="bar-btn primary">Calculate</button>
            <button type="button" class="bar-btn secondary clear-btn">Clear</button>
          </div>
        </form>
      </div>

      <footer class="compact-footer">
        <div style="display:flex; gap:0.5rem; justify-content:center; align-items:center; margin-top:8px;">
          <button id="clear-history" class="bar-btn secondary">Clear history</button>
        </div>
      </footer>

      <aside style="margin-top:12px;">
        <h3 style="margin:0 0 8px 0;">History</h3>
        <div id="history-list" class="history" aria-live="polite"></div>
      </aside>
    </section>

    <footer class="compact-footer" style="text-align:center; margin-top:18px;">
      <small style="color:var(--muted);">Percently — quick percentage calculations</small>
    </footer>
  </main>

  <script type="module" src="./main.js"></script>

  <!-- Recommended minimal Content-Security-Policy (comment for server configuration)
    Content-Security-Policy: default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline';
    base-uri 'none'; frame-ancestors 'none'; form-action 'self'; object-src 'none';
  -->
</body>
</html>